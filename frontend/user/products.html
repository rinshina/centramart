<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - CentraMart</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/user/index-user-header.css">
    <link rel="stylesheet" href="../css/user/index-user-footer.css">
    <link rel="stylesheet" href="../css/user/index-user-products-of-the-wek.css">
    <link rel="stylesheet" href="../css/user/products.css">
</head>
<body>

    <!-- HEADER -->
    <div id="header-placeholder"></div>

    <!-- MAIN CONTENT -->
    <main class="products-page">
        <div class="container py-4">
            
            <!-- Breadcrumb -->
            <nav aria-label="breadcrumb" class="mb-4">
                <ol class="breadcrumb p-2">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Products</li>
                </ol>
            </nav>

            <div class="row">
                
                <!-- FILTERS SIDEBAR -->
                <div class="col-lg-3 col-md-4 d-none d-lg-block">
                    <div class="filters-sidebar">
                        
                        <h5>PRICE RANGE</h5>
                        <div class="price-filter mb-4">
                            <div class="d-flex gap-2 mb-2">
                                <input type="number" id="minPrice" class="form-control" placeholder="Min">
                                <input type="number" id="maxPrice" class="form-control" placeholder="Max">
                            </div>
                            <div class="price-filter mb-4">
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="all" id="all-prices">
                                    <label class="form-radio-label" for="all-prices">All Price</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="under-200" id="under-200">
                                    <label class="form-radio-label" for="under-200">Under $200</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="25-100" id="$25-to-$100">
                                    <label class="form-radio-label" for="$25-to-$100">$25 to $100</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="100-300" id="$100-to-$300">
                                    <label class="form-radio-label" for="$100-to-$300">$100 to $300</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="300-500" id="$300-to-$500">
                                    <label class="form-radio-label" for="$300-to-$500">$300 to $500</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="500-1000" id="$500-to-$1000">
                                    <label class="form-radio-label" for="$500-to-$1000">$500 to $1000</label>
                                </div>
                                <div class="form-radio">
                                    <input class="form-radio-input" type="radio" name="priceRange" value="1000-10000" id="$1000-to-$10000">
                                    <label class="form-radio-label" for="$1000-to-$10000">$1000 to $10000</label>
                                </div>
                            </div>
                        </div>
                        <hr style="border-color: #b0b7bd; margin: 0 0.5rem 1rem;">

                        <h5>POPULAR BRANDS</h5>
                        <div class="brand-filter mb-4">
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Apple" id="brand-apple">
                                        <label class="form-check-label" for="brand-apple">Apple</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Microsoft" id="brand-microsoft">
                                        <label class="form-check-label" for="brand-microsoft">Microsoft</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Dell" id="brand-dell">
                                        <label class="form-check-label" for="brand-dell">Dell</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Symphony" id="brand-symphony">
                                        <label class="form-check-label" for="brand-symphony">Symphony</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Sony" id="brand-sony">
                                        <label class="form-check-label" for="brand-sony">Sony</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="LG" id="brand-lg">
                                        <label class="form-check-label" for="brand-lg">LG</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="OnePlus" id="brand-oneplus">
                                        <label class="form-check-label" for="brand-oneplus">One Plus</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Google" id="brand-google">
                                        <label class="form-check-label" for="brand-google">Google</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Samsung" id="brand-samsung">
                                        <label class="form-check-label" for="brand-samsung">Samsung</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="HP" id="brand-hp">
                                        <label class="form-check-label" for="brand-hp">HP</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Xiaomi" id="brand-xiaomi">
                                        <label class="form-check-label" for="brand-xiaomi">Xiaomi</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Panasonic" id="brand-panasonic">
                                        <label class="form-check-label" for="brand-panasonic">Panasonic</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="Intel" id="brand-intel">
                                        <label class="form-check-label" for="brand-intel">Intel</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h5>POPULAR TAGS</h5>
                        <div class="popular-tags mb-4">
                            <span class="tag" data-tag="game">Game</span>
                            <span class="tag" data-tag="iphone">iPhone</span>
                            <span class="tag" data-tag="tv">TV</span>
                            <span class="tag" data-tag="dell-laptops">Dell Laptops</span>
                            <span class="tag" data-tag="macbook">Macbook</span>
                            <span class="tag" data-tag="ssd">SSD</span>
                            <span class="tag" data-tag="graphics-card">Graphics Card</span>
                            <span class="tag" data-tag="power-bank">Power Bank</span>
                            <span class="tag" data-tag="smart-tv">Smart TV</span>
                            <span class="tag" data-tag="speaker">Speaker</span>
                            <span class="tag" data-tag="tablet">Tablet</span>
                            <span class="tag" data-tag="microwave">Microwave</span>
                            <span class="tag" data-tag="samsung">Samsung</span>
                        </div>

                        

                    </div>
                </div>

                <!-- PRODUCTS GRID -->
                <div class="col-lg-9 col-md-8">
                    
                    <!-- Sort & Results -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        
                        <div class="results-count">
                            <span id="resultsCount">0 products found</span>
                        </div>
                        <div class="d-flex flex-row gap-3">
                            <!-- Mobile Filter Button -->
                            <button class="btn btn-primary d-lg-none" id="mobileFilterBtn">
                                <i class="fas fa-filter"></i> Filter
                            </button>
                            
                            <div class="search-bar d-none d-lg-block position-relative">
                                <input type="text" id="searchInput" class="form-control" placeholder="Search for anything...">
                                <button class="search-btn" type="button">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8" />
                                        <path d="m21 21-4.35-4.35" />
                                    </svg>
                                </button>
                            </div>
                            <div class="sort-options">
                                <select class="form-select" id="sortSelect" onchange="applySorting()">
                                    <option value="default">Sort by</option>
                                    <option value="price-low">Price: Low to High</option>
                                    <option value="price-high">Price: High to Low</option>
                                    <option value="rating">Rating</option>
                                    <option value="name">Name A-Z</option>
                                </select>
                            </div>
                        </div>
                        
                    </div>

                    <!-- Products Grid -->
                    <div class="products-grid" id="productsGrid">
                        <!-- Products will be loaded here -->
                    </div>

                    <!-- Pagination -->
                    <div class="custom-pagination">
                        <button class="pagination-arrow prev" id="prevPage">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 18l-6-6 6-6"/>
                            </svg>
                        </button>
                        
                        <div class="pagination-numbers">
                            <button class="page-number active" data-page="1">01</button>
                            <button class="page-number" data-page="2">02</button>
                            <button class="page-number" data-page="3">03</button>
                            <button class="page-number" data-page="4">04</button>
                            <button class="page-number" data-page="5">05</button>
                            <button class="page-number" data-page="6">06</button>
                        </div>
                        
                        <button class="pagination-arrow next" id="nextPage">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <div id="footer-placeholder"></div>

    <!-- Mobile Filter Modal -->
    <div class="mobile-filter-modal" id="mobileFilterModal">
        <div class="mobile-filter-header">
            <h5><i class="fas fa-filter"></i> Filter</h5>
            <button class="close-btn" id="closeMobileFilter">&times;</button>
        </div>
        
        <div class="mobile-filter-content">
            <div class="filter-section">
                <h6>Sort By</h6>
                <div class="radio-group">
                    <label><input type="radio" name="mobileSort" value="default" checked> Relevance</label>
                    <label><input type="radio" name="mobileSort" value="price-low"> Price Low to High</label>
                    <label><input type="radio" name="mobileSort" value="price-high"> Price High to Low</label>
                </div>
            </div>
            
            <div class="filter-section">
                <h6>Categories</h6>
                <div class="checkbox-group">
                    <label><input type="checkbox" value="laptops"> Laptops</label>
                    <label><input type="checkbox" value="mobiles"> Mobiles</label>
                    <label><input type="checkbox" value="personal-care"> Personal Care</label>
                </div>
            </div>
            
            <div class="filter-section">
                <h6>Price Range</h6>
                <div class="price-inputs">
                    <input type="number" placeholder="Min Price" id="mobileMinPrice">
                    <input type="number" placeholder="Max Price" id="mobileMaxPrice">
                </div>
            </div>
            
            <div class="filter-section">
                <h6>Brand</h6>
                <div class="checkbox-group">
                    <label><input type="checkbox" value="Apple"> Apple</label>
                    <label><input type="checkbox" value="Samsung"> Samsung</label>
                    <label><input type="checkbox" value="Sony"> Sony</label>
                </div>
            </div>
        </div>
        
        <div class="mobile-filter-footer">
            <button class="btn btn-primary w-100" id="applyMobileFilters">APPLY</button>
            <button class="btn btn-link" id="clearMobileFilters">Clear filters</button>
        </div>
    </div>
    
    <div class="mobile-filter-overlay" id="mobileFilterOverlay"></div>

    <!-- MODALS -->
    <div id="login-modal-placeholder"></div>
    <div id="signup-modal-placeholder"></div>
    <div id="forgot-password-modal-placeholder"></div>
    <div id="otp-modal-placeholder"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/user/header-auth.js"></script>
    <script src="data/products.js"></script>
    <script src="../js/user/products.js"></script>
    <script src="../js/user/tags.js"></script>
    <script>
        // Load partials
        function loadHTML(id, file) {
            fetch(file)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(id).innerHTML = data;
                });
        }
        
        loadHTML("header-placeholder", "partials/header.html");
        loadHTML("footer-placeholder", "partials/footer.html");
        loadHTML("login-modal-placeholder", "modals/login-modal.html");
        loadHTML("signup-modal-placeholder", "modals/signup-modal.html");
        loadHTML("forgot-password-modal-placeholder", "modals/forgot-password-modal.html");
        loadHTML("otp-modal-placeholder", "modals/otp-modal.html");
        
        // Initialize auth state after header loads
        setTimeout(initializeAuthState, 100);
    </script>
</body>
</html>
