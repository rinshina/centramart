<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - CentraMart Admin</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Admin CSS -->
    <link rel="stylesheet" href="../css/admin/dashboard.css">
</head>
<body>
    <div class="admin-layout">
        
        <!-- Sidebar -->
        <div id="sidebar-placeholder"></div>

        <!-- Main Content -->
        <div class="main-content">
            
            <!-- Topbar -->
            <div class="topbar">
                <div class="topbar-left">
                    <h5>Dashboard</h5>
                </div>
                <div class="topbar-right">
                    <div class="search-box">
                        <input type="text" placeholder="Search orders, customers or products...">
                        <button><img src="../assets/icons/search icon.png" width="16" height="16"></button>
                    </div>
                    <div class="notifications"><img src="../assets/icons/notifications.png" width="20" height="20"></div>
                    <div class="admin-profile">
                        <img src="../assets/pic.jpg" alt="Admin" width="32" height="32">
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                
                <!-- Stats Cards -->
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-header">
                            <h6>Total Orders</h6>
                            <span class="more-btn">⋯</span>
                        </div>
                        <div class="stat-number">10,742</div>
                        <div class="stat-meta">
                            <span class="stat-change positive">Orders: 9,845</span>
                            <span class="stat-period">Previous 30 days (9,845 orders)</span>
                        </div>
                        <button class="stat-btn" onclick="window.location.href='orders.html'">View Orders</button>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <h6>Fulfilled Orders</h6>
                            <span class="more-btn">⋯</span>
                        </div>
                        <div class="stat-number">7,430</div>
                        <div class="stat-meta">
                            <span class="stat-change">orders</span>
                            <div class=" d-flex flex-row gap-5">
                                <span class="stat-period">Fulfilled: 271</span><span class="stat-period">Pending: 3</span>
                            </div>
                        </div>
                        <button class="stat-btn" onclick="window.location.href='orders.html?filter=completed'">View Orders</button>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <h6>Pending Orders</h6>
                            <span class="more-btn">⋯</span>
                        </div>
                        <div class="stat-number">1,204</div>
                        <div class="stat-meta">
                            <span class="stat-change">orders</span>
                            <div class=" d-flex flex-row gap-5">
                                <span class="stat-period">Processed: 3</span><span class="stat-period">Awaiting fulfillment: 1</span>
                            </div>
                            
                        </div>
                        <button class="stat-btn" onclick="window.location.href='orders.html?filter=attention'">View Pending Orders</button>
                    </div>
                </div>

                <!-- Chart Section -->
                <div class="chart-section">
                    <div class="chart-header">
                        <h6>Order Processing Overview</h6>
                        <div class="chart-controls">
                            <button class="chart-btn active">This week</button>
                            <button class="chart-btn">Last week</button>
                            <span class="more-btn">⋯</span>
                        </div>
                    </div>
                    
                    <div class="chart-stats">
                        <div class="chart-stat">
                            <div class="stat-value">1,240</div>
                            <div class="stat-label">New Orders</div>
                        </div>
                        <div class="chart-stat">
                            <div class="stat-value">812</div>
                            <div class="stat-label">Processing</div>
                        </div>
                        <div class="chart-stat">
                            <div class="stat-value">276</div>
                            <div class="stat-label">Delivered</div>
                        </div>
                        <div class="chart-stat">
                            <div class="stat-value">152</div>
                            <div class="stat-label">Fraud</div>
                        </div>
                    </div>
                    
                    <div class="chart-placeholder">
                        <img src="../assets/charts/order-processing this week.png" alt="Chart" class="chart-image">
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/admin/dashboard.js"></script>
    <script>
        // Check admin authentication
        if (localStorage.getItem('userType') !== 'admin') {
            alert('Access denied. Please login as admin.');
            window.location.href = '../user/index.html';
        }
        
        // Load sidebar
        fetch('partials/admin-sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-placeholder').innerHTML = data;
                // Set active page
                document.querySelector('[data-page="dashboard"]').classList.add('active');
            });
    </script>
</body>
</html>